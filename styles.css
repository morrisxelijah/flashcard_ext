/* --------------------  THEME  -------------------- */
:root {
    --gap: min(1vh, 1vw);
    --border: calc(var(--gap) * 0.75) solid rgb(41, 114, 126);
    --bRad: calc( 1.5 * max(1vh, 1vw));
    --bg: rgb(49, 171, 193);
    --fg: white;
    --muted: lightgrey;
    --primary: black;
    --secondary: rgb(41, 114, 126);
}

/* --------------------  BASE  -------------------- */
* {
    box-sizing: border-box;
}

html,
body {
    width: 100%;
    height: 100%;
    max-width: 100vw;
    /* never exceed panel */
    max-height: 100vh;
    margin: 0;
    padding: 0;
    overflow: auto;
    /* scroll only when needed */
}

body {
    padding: 2vh 2vw;
    /* fluid gutter */
    background: var(--bg);
    color: var(--fg);
    font: 14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    /* px for text ok */
}

h1, h2, h3, .summary-h2 {
    margin: 5vh 0 2vh 0;
    align-self: center;
    font-weight: 1000;
    word-spacing: calc(1.2 * var(--gap));
}

h1 {
    font-size: 22px;
}

h2, .summary-h2 {
    font-size: 18px;
    /* color: var(--muted); */
}

h3 {
    font-size: 16px;
}

body,
.card_list,
.quick_add,
.toolbar {
    overflow-wrap: anywhere;
}

/* --------------------  NAVBAR  -------------------- */
/* h1 on its own line; buttons below on one line, equal widths */
.navbar {
    position: sticky;
    top: -2vh;
    z-index: 100;
    background: var(--bg);
    display: flex;
    flex-direction: column;    /* stack title then toolbar row */
    align-items: stretch;
    gap: var(--gap);
    padding: 1.2vh 0;
    border-bottom: var(--border);
    margin-bottom: 2vh;
}

/* .navbar h1 {
    margin: 0 0 calc(2 * var(--gap)) 0;
    align-self: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
} */

/* top row of the navbar that keeps the title centered and the close button on the right */


/* let the h1 work nicely in the grid row (no overflow surprise) */
.navbar_top h1 {
    margin: 0;
    /* remove extra vertical margin in this row */
    /* justify-self: center; */
    text-align: center;
    /* center text inside its grid cell */
    white-space: nowrap;
    /* keep the title on a single line */
    overflow: hidden;
    /* prevent spillover on tight widths */
    text-overflow: ellipsis;
    /* graceful truncation if needed */
}


.navbar nav.toolbar {
    display: flex;
    gap: var(--gap);
    flex-wrap: nowrap;
    /* keep in one row */
}

.navbar nav.toolbar > button {
    flex: 1 1 0;
    /* equal widths */
    min-width: 0;
    /* allow shrinking */
}

/* --------------------  FORM INPUTS  -------------------- */
.quick_add textarea,
.quick_add input, 
.notes textarea,
.notes input {
    width: 100%;
    max-width: 100%;
    margin-bottom: var(--gap);
    padding: var(--gap);
    border: var(--border);
    border-radius: var(--bRad);
    background: var(--fg);
    color: var(--secondary);
    resize: vertical;
}

.quick_add h3, .summary-h2 {
    margin: var(--bRad) 0 calc(2 * var(--gap)) 0;
}

textarea {
    min-height: 50px;
}

input::placeholder,
textarea::placeholder {
    text-align: center;
    /* align-self: center; */
    line-height: calc(2.25 * var(--bRad));
}

/* --------------------  GENERIC BUTTONS  -------------------- */
button {
    display: flex;
    align-items: center;
    justify-content: center;
    justify-self: center;
    padding: var(--gap) 1vw;
    /* fluid size */
    border: var(--border);
    border-radius: var(--bRad);
    background: var(--fg);
    color: var(--secondary);
    font-weight: bold;
    cursor: pointer;
    white-space: nowrap;
    /* keep label on one line */
    overflow: hidden;
    text-overflow: ellipsis;
}

button:hover {
    background: var(--muted);
}

#qa_createBtn {
    width: 40%;
}


.close_button {
    /* inline, right-most grid cell; no position: fixed here */
    justify-self: end;
    /* push the button to the far right of its grid cell */
    /* top: 0; */
    margin: calc(-1 * var(--bRad)) 0;
    top: calc(-100 * var(--bRad));
    bottom: calc(-10 * var(--bRad));
    min-width: calc(6 * var(--gap));
    min-height: calc(6 * var(--gap));
    padding: calc(var(--gap) * 0.75) 1vw;
    /* fluid interior padding */
    border: var(--border);
    border-radius: calc(2 * var(--gap));
    background: var(--fg);
    color: var(--secondary);
    font-weight: bold;
    line-height: 1;
    cursor: pointer;
}

.close_button:hover {
    background: var(--muted);
}



/* --------------------  TOOLBAR (empty now, shared style)  -------------------- */
.toolbar {
    display: flex;
    gap: var(--gap);
    flex-wrap: nowrap;
}

.toolbar > * {
    flex: 1 1 0;
    min-width: 0;
}

/* --------------------  RATE ROW  -------------------- */
/* all four rating buttons: one line, equal widths */
.rate {
    display: flex;
    gap: var(--gap);
    margin-top: var(--gap);
    flex-wrap: nowrap;
}

.rate > button {
    flex: 1 1 0;
    min-width: 0;
}

/* --------------------  NOTES / WRITTEN AREA  -------------------- */
/* Keep textarea full width, then put the two buttons on one line, equal widths, w/o HTML changes */
#note-written {
    display: grid;
    grid-template-columns: 1fr 1fr;
    /* two equal columns for buttons */
    gap: var(--gap);
}

#noteText,
#notesContainer {
    grid-column: 1 / -1;
    /* span full width */
}

/* make the two buttons share the row equally */
#saveNoteBtn,
#savePageBtn {
    width: 100%;
    /* fill cell */
}

#saveNoteBtn {
    grid-column: 1 / 2;
}

#savePageBtn {
    grid-column: 2 / 3;
}

/* --------------------  CARD LIST  -------------------- */
.card_list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.2vh;
}

.card {
    background: rgba(255, 255, 255, 0.08);
    border: var(--border);
    border-radius: var(--bRad);
    padding: 1.2vh 1vw;
}

.front {
    font-weight: 600;
    margin-bottom: var(--gap);
}

.answer {
    margin: var(--gap) 0;
}